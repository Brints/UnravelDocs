<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Reset Request</title>
    <!-- The link to external CSS is kept, but critical styles are below -->
    <link rel="stylesheet" href="./styles/password-reset.css">
    <style type="text/css">
        /* Basic Reset */
        body, table, td, a { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        table, td { mso-table-lspace: 0; mso-table-rspace: 0; }
        img { -ms-interpolation-mode: bicubic; border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; }
        table { border-collapse: collapse !important; }
        body { height: 100% !important; margin: 0 !important; padding: 0 !important; width: 100% !important; font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif; }

        /* Main Styles */
        .email-background { background-color: #f4f4f4; }
        .email-container {
            background-color: #ffffff;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .email-header {
            background-color: #007BFF;
            color: #ffffff;
            padding: 25px 20px;
            text-align: center;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
        }
        .email-header h2 { color: #ffffff !important; font-size: 24px; margin: 0; font-weight: bold; }
        .email-content { padding: 30px 20px; color: #333333; font-size: 16px; line-height: 1.6; }
        .email-content p { margin: 0 0 15px 0; }
        .email-content p:last-child { margin-bottom: 0; }
        .email-button-container { text-align: center; padding: 10px 0 20px 0; }
        .email-button {
            background-color: #007BFF;
            color: #ffffff !important; /* Important for link color */
            display: inline-block;
            font-size: 16px;
            font-weight: bold;
            padding: 12px 25px;
            text-decoration: none !important;
            border-radius: 5px;
        }
        .email-footer {
            background-color: #f9f9f9;
            color: #777777;
            font-size: 12px;
            padding: 20px;
            text-align: center;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
        }
        .email-footer p { margin: 0 0 5px 0; color: #777777 !important; }
        .email-footer p:last-child { margin-bottom: 0; }

        /* Responsive Styles */
        @media screen and (max-width: 600px) {
            .email-container { width: 100% !important; max-width: 100% !important; border-radius: 0 !important; box-shadow: none !important; }
            .email-header, .email-content, .email-footer { padding-left: 15px !important; padding-right: 15px !important; }
            .email-header h2 { font-size: 22px !important; }
            .email-content { font-size: 15px !important; }
            .email-button { padding: 12px 20px !important; font-size: 15px !important; display: block !important; width: auto !important; max-width: 250px; margin: 0 auto !important; }
        }
    </style>
</head>
<body class="email-background" style="margin: 0 !important; padding: 0 !important; background-color: #f4f4f4;">
<!--[if mso | IE]>
<table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #f4f4f4;">
    <tr>
        <td>
<![endif]-->
<table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" class="email-background">
    <tr>
        <td align="center" style="padding: 20px 0;">
            <!-- Email Container -->
            <!--[if mso | IE]>
            <table align="center" border="0" cellpadding="0" cellspacing="0" class="email-container" style="width:600px;" width="600">
                <tr>
                    <td style="line-height:0px;font-size:0px;mso-line-height-rule:exactly;">
            <![endif]-->
            <div style="max-width:600px; margin: 0 auto;"> <!-- Wrapper for Outlook -->
                <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation" class="email-container">
                    <!-- Header -->
                    <tr>
                        <td class="email-header">
                            <h2 style="color: #ffffff; font-size: 24px; margin:0; font-weight: bold; font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;">Password Reset Request</h2>
                        </td>
                    </tr>
                    <!-- Content -->
                    <tr>
                        <td class="email-content" style="font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;">
                            <p>Hello
                                <span class="firstName" th:text="${firstName}">FirstName</span>
                                <span class="lastName" th:text="${lastName}">LastName</span>,
                            </p>
                            <p>We received a request to reset your password for your UnravelDocs account. Please click the button below to set a new password:</p>
                            <table border="0" cellpadding="0" cellspacing="0" role="presentation" width="100%" class="email-button-container">
                                <tr>
                                    <td align="center">
                                        <a th:href="@{${resetUrl}}" target="_blank" class="email-button" style="background-color: #007BFF; color: #ffffff; display: inline-block; font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif; font-size: 16px; font-weight: bold; padding: 12px 25px; text-decoration: none; border-radius: 5px;">Reset Password</a>
                                    </td>
                                </tr>
                            </table>
                            <p>This link is valid for <span th:text="${expiration}">1 hour</span>.</p>
                            <p>If you did not request a password reset, please ignore this email or contact us if you have any concerns.</p>
                            <p>Best regards,<br>The UnravelDocs Team</p>
                        </td>
                    </tr>
                    <!-- Footer -->
                    <tr>
                        <td class="email-footer" style="font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;">
                            <p>&copy; <span th:text="${#dates.year(#dates.createNow())}">2024</span> UnravelDocs. All rights reserved.</p>
                            <p>This email was sent because a password reset was requested for your account.</p>
                        </td>
                    </tr>
                </table>
            </div>
            <!--[if mso | IE]>
            </td>
            </tr>
            </table>
            <![endif]-->
        </td>
    </tr>
</table>
<!--[if mso | IE]>
</td>
</tr>
</table>
<![endif]-->
</body>
</html>